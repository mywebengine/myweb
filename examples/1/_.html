<!doctype html>
<html data-debug="1">
	<head>
		<title>Test Tpl</title>
		<meta charset="utf-8" />
		<style>
			.first:nth-of-type(1) {
				font-weigh: bold;
			}
		</style>
		<!--script src="Tpl.js" type="module" async="async"></script-->
		<script src="../main.js" type="module"></script>
		<script>
const d = {};
//d.h = undefined;
d.durl = "./1.js";
//d.src = undefined;
d.a = undefined;
//d.val = undefined;
d.isShow = false;
d.isShow2 = 1;
d.arr = [
//	{name: "<b>111</b>"},
//	{name: "<i>222</i>"}
];
d.arr2 = [
//	"<b>2111</b>", 2.222
];

//d.arr = [];//{name: 111}];
//d.arr2 = [];

d.red = 'red';
d.green = 'green';
for (let i = 0; i < 5; i++) {
	d.arr.push({
		name: 'r' + Math.random()
	});
	d.arr2.push(Math.random());
}

//Object.assign(self, d);
self.data = d;

		</script>
	</head>
	<body>
		<!--script :attr.src="`inc.js`" src1="inc.js" async1="async"></script>
		<script :attr.src="`inc2.js`" src1="inc2.js"></script-->
		<!--script src="inc.js" async="async"></script>
		<script src="inc2.js"></script-->

		<div data-param-before="BBB"
			_inc.uri="./header.html" data-param-after="AAA"
			_attr.data-param2="data.arr.length"></div>

		<div :inc="data.h || `./header.html`"
			_attr.data-param2="data.val"></div>


		<div :inc.url="edit.html" :attr.data-value="1 + 5 + 'a'"></div>
		<div :inc.u="edit.html" data-value="2"></div>
		<div :inc.u="edit.html" data-value="5"></div>
		<div :inc.u="edit.html" data-value="111"></div>

		<fieldset a="112">
			<label>
				<input type="checkbox"
					_attr.checked="data.isShow"
					onchange="data.isShow = this.checked;" /> isShow
			</label>
			<label>
				<input type="checkbox"
					_attr.checked="data.isShow2"
					onchange="data.isShow2 = this.checked;" /> isShow2
			</label>
		</fieldset>
		<fieldset>
			<input :attr.placeholder="`Hello World! : ${document.title}`"
				onchange="console.info('1!!!!!!', this.value);"
				oninput="data.val = this.value; data.arr.unshift(this.value);/* document.body.render(100);*/" />
			<input :attr.value="data.val"
				onchange="console.info('!2!!!!!', this.value);" placeholder="Repeat field" />
		</fieldset>
		<fieldset>
			<input list="browsers" id="myBrowser" name="myBrowser"
				oninput="data.arr2.unshift(this.value);" />
			<datalist id="browsers">
				<option :attr.value="val.name || val || 0"
					_for.val="data.arr"
					_html="val.name || val" 
					_order=":for.val :attr.value"></option>
			</datalist>
			<select>
				<option :for.val.i.aa="data.arr" 
					_attr.value="i" 
					_html.text="val.name || val" 
					_1order=":for.val.i :attr.value :html"></option>
			</select>
		</fieldset>
		<div :if.f="data.isShow">
			<span :attr.style="`color: ${data.red};`">SHOW ({{f}})</span>
		</div>
		<div :if.f="data.isShow2"
			_attr.style="`color: ${data.green};`"
			_html.text="`Show2 (${f})`"
			_order=":if.f :html.text :attr.style">
		</div>

		<h3>if else</h3>
		<div :if.f="data.isShow">
			<b>IF isShow: {{f}}</b>
		</div>
		<div :elseif.f="data.isShow2">
			<i>ELSEIF isShow2: {{f}}</i>
		</div>
		<div :else="">
			<p>ELSE isShow and isShow2: FALSE</p>
		</div>

		<h3>switch</h3>
		<div :switch="data.a" :case="`a`">
			<b>a</b>
		</div>
		<div :case="`b`">
			<i>b</i>
		</div>
		<div :default="">
			<p>default: {{data.a}}</p>
		</div>

		<p>--------------</p>

		<ul :if="data.arr.length > 0">
			<li :for.val.i="data.arr" :scope="ii">
				<span :attr.data-prop-in-prop="`!`"
					_html="`${i * 1 + 1}) ${val.name || val} ${this.dataset.propInProp} >${ii.i * 1 + 1}) ${ii.val.name || ii.val}<`"
					_attr.style="`color: ${val > 0 ? data.green : data.red};`"
					_attr.onclick="`alert('attr!-${(val.name || val).q()}');`"></span>
			</li>
		</ul>
		1
		<ul :if="data.arr2.length > 0">
			<div :inc.u="li.html"
				_for.txt.i="data.arr2"
				_scope="ii"
				_on.click="console.info(`${ii.txt}`, this);"
				_order=":for.txt.i :inc.u :scope">
				<span slot="a1" :html="txt"></span>
				<span slot="a2" :html="ii.txt.toString().toUpperCase()"></span>
			</div>
		</ul>
		2
		<ul :if="data.arr2.length > 0">
			<div :inc.u="li2.html"
				_for.txt.i="data.arr2"
				_scope="ii"
				_on.click="console.info(`${ii.txt}`, this);"
				_order=":for.txt.i :inc.u :scope">
			</div>
		</ul>
		<div>
			<div class="first" :if="data.isShow">First1</div>
			<div class="first" :if="data.isShow2">First2</div>
			<div class="first">First3</div>
			<div :for.val.key="data.arr">
				<span :html="`${key} => ${val.name}`"
					_attr.onclick="`alert('attr!-${key.q()}')`;"
					_on.click="return console.log(this); alert(`attr!-${(val.name || val)}`);"></span>
			</div>
		</div>
	</body>
</html>
