<!doctype html>
<html>
	<head>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=yes" />
		<script src="../src/client.ts?debug=1" type="module" async="async"></script>
		<link href="../src/myweb.css" type="text/css" rel="stylesheet" />
		<script>
			const h1 = "watch command";
			self.glob = {
				text: "abcdefg",
				obj1: {
					text: "hij"
				}
			};
		</script>
		<title>${h1} - myweb</title>
	</head>
	<body exec.glob="self.glob">
		<h1>${h1} - example</h1>
		<fieldset>
			<label for="text">glob.text</label>
			<input id="text" type="text"
				attr.value="glob.text" 
				on.input="glob.text = this.value"/>
		</fieldset>
		<fieldset>
			<button on.click="glob.obj1 = { text: `new val` }">Change glob.obj1</button>
		</fieldset>
		<fieldset>
			<label for="obj1_text">glob.obj1.text</label>
			<input id="obj1_text" type="text"
				attr.value="glob.obj1.text" 
				on.input="glob.obj1.text = this.value"/>
		</fieldset>
		<p watch="glob.text">
			glob.text is changed - ${Math.random()}
		</p>
		<p watch="glob.obj1">
			glob.obj1 is changed - ${Math.random()}
		</p>
		<div watch.str="glob.obj1.text">
			<p>glob.obj1.text is changed - ${Math.random()}</p>
			<p>${str}</p>
		</div>
	</body>
</html>
