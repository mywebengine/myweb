<!doctype html>
<html data-debug="true" data-is-rendered="false">
	<head>
		<title>myweb/tpl ex1</title>
		<meta charset="utf-8" />

		<script>
			data = {
				red: "red"
			};
		</script>
		<script src="main.js" type="module" async="async"></script>
	
		<meta :inc.u="./ctrl/modal.html" />
	</head>
	<body>
		<fieldset>
			<input :attr.value="data.val" oninput="data.val = this.value;" />
		</fieldset>
		<link :attr.data-method="data.m"
			_fetch.u="./json/ex1.json"
			_order=":attr.data-method :fetch.u"
			data-:body="data.form"
			data-onok="data.val = this.newVal; console.log(`fetch onload`, this);"
			data-onerror="!Modal || new Modal().show({text: err}); console.error(`error`, this, err, err.status);" />
		<ul :if="data.val">
			<li :for.txt.i="data.val">
                                <span :attr.style="`color: ${data.red}`">
                                	{{txt}}
                                </span>
			</li>
		</ul>
		<form onsubmit="data.m = `post`; data.form = new FormData(this); return false;">
			<input name="a" value="123" required="" />
			<input id="b" name="bb" value="456" />
			<button>Send</button>
		</form>
		<p>
			<button onclick="!Modal || new Modal().show({text: `Show new Win`}); return false;">Show text</button>
			<button onclick="!Modal || new Modal().show({url: `./other/modal-text.html`, method: 'post', data: {foo: `Foo`, bar: `Bar`}}).then(console.log); return false;">Show by url</button>
		</p>
	</body>
</html>