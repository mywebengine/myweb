<!doctype html>
<html>
	<head>
		<title>Test Tpl</title>
		<meta charset="utf-8" />
		<style>
			.first:nth-of-type(1) {
				font-weight: bold;
			}
		</style>
		<!--script src="../getLineNo.js" async="async"></script-->
		<script src="_.js?ebug" type="module"></script>
	</head>
	<body>
		<fieldset>
			<label>
				<input type="checkbox"
					_attr.checked="data.isShow"
					onchange="data.isShow = this.checked;" /> isShow
			</label>
			<label>
				<input type="checkbox"
					_attr.checked="data.isShow2"
					onchange="data.isShow2 = this.checked;" /> isShow2
			</label>
		</fieldset>
		<fieldset>
			<input oninput="let d = self.Tpl_delay; self.Tpl_delay = 0; data.arr.unshift(this.value); self.Tpl_delay = d;" />
		</fieldset>
		<fieldset>
			<input oninput="let d = self.Tpl_delay; self.Tpl_delay = 0; data.arr.push(this.value); self.Tpl_delay = d;" />
		</fieldset>
		<div _if.f="data.isShow">
			<span _attr.style="`color: ${data.red};`">SHOW (<span _html.text="f"></span>)</span>
		</div>
		<div _if.f="data.isShow2" _attr.style="`color: ${data.green};`">
			<div>SHOW2 (<span _html.text="f"></span>)</div>
		</div>
		<ol _1if="data.arr.length">
			<li _for.val.i="data.arr" tpl11:scope="jj" _if="!data.f">
				<span _data-prop-in-prop="`!`"
					_html="`${1 * 1 + 1}) ${val.name || val} >${1 * 1 + 1}) ${val.name || val}<, ${data.green}`"
					_attr.style="`color: ${isNaN(val) ? data.green : data.red};`"
					_1attr.onclick="`alert('attr!-${(val.name || val).q()}');`"></span>
			</li>
		</ol>
		<ul _1if="data.arr2.length > 0">
			<li _for.val.i="data.arr2">
				<span _1attr.data-prop-in-prop="`!->!`"
					_html="`${i * 1 + 1}) ${val} >${i * 1 + 1}) ${val}<`"
					_attr.style="`color: ${isNaN(val) ? data.green : data.red};`"
					_1attr.onclick="`alert('attr!-${(val.name || val).q()}');`"></span>
			</li>
		</ul>
		<div>
			<div class="first" _if.m1="data.isShow">First1</div>
			<div class="first" _if.m2="data.isShow2">First2</div>
			<div class="first">First3</div>
			<div _for.val.key="data.arr2">
				<span _html="`${key} => ${val.name}`">1</span>
			</div>
<!--
<div _if="data.isShow" :for.val.key="data.arr2">
проблема в том что поле срабатывания условия запускается интерпирация цикла и условия в уже нет
-->
		</div>
	</body>
</html>
